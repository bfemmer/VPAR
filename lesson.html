<html>

<head>
  <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
  <script src="https://unpkg.com/aframe-environment-component/dist/aframe-environment-component.min.js"></script>
  <script
    src="https://rawgit.com/fernandojsg/aframe-teleport-controls/master/dist/aframe-teleport-controls.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
</head>

<body>
  <a-scene renderer="colorManagement: true; physicallyCorrectLights: true;">
    <a-assets>
        <a-asset-item id="chips" src="assets/dorritos/scene.gltf"></a-asset-item>
        <a-asset-item id="candy" src="assets/chocolate_crunch_bar/scene.gltf"></a-asset-item>
        <a-asset-item id="beer" src="assets/heineken_bottle/scene.gltf"></a-asset-item>
    </a-assets>

    <!-- Main environment (forest) -->
    <a-entity id="environment" environment="preset: forest; dressingAmount: 50"></a-entity>
      
    <a-entity gltf-model="#chips" position="2 1.2 -2" scale="1 1 1" rotation="0 0 0"></a-entity>
    <a-entity gltf-model="#candy" position="2.3 1.2 -1.95" scale="0.2 0.2 0.2" rotation="0 -90 0"></a-entity>
    <a-entity gltf-model="#beer" rotation="0 90 0" position="2.8 1.2 -1.8" scale="0.07 0.07 0.07"></a-entity>
      
    <a-entity text="width: 6; wrapCount:80; value: Welcome to Virgin Pulse Transform Lesson 14: Calm Your Mind. This lesson will educate you on the signs of stress, the negative effects associated with chronic activation (espcially with regards to body weight), and ways to reduce stress. By the end of this lesson, you will have the tools necessary to calm your mind and reduce stress in order to get to a better and healthier you.\n\nClick on a teleportation link below to begin your journey." position="0 3.5 -2.1" scale="1 1 1" rotation="0 0 0"></a-entity>
      
    <!-- Links -->
    <a-link href="cues.html" title="See the Cues\nof Stress" position="-2.5 1 -2"></a-link>
    <a-link href="effects.html" title="Recognize\nthe Effects" position="0 1 -2"></a-link>
    <a-link href="game.html" title="Remove\nStressors" position="2.5 1 -2"></a-link>

    <!-- Rigged camera with cursor-->
    <a-entity id="rig" position="0 0 0" movement-controls>
      <a-entity id="head" camera look-controls position="0 1.6 0">
        <a-entity
          animation__click="property: scale; startEvents: click; easing: easeInCubic; dur: 150; from: 0.1 0.1 0.1; to: 1 1 1"
          animation__fusing="property: scale; startEvents: fusing; easing: easeInCubic; dur: 1500; from: 1 1 1; to: 0.1 0.1 0.1"
          animation__mouseleave="property: scale; startEvents: mouseleave; easing: easeInCubic; dur: 500; to: 1 1 1"
          cursor="fuse: false;" material="color: black; shader: flat" position="0 0 -3"
          geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03">
        </a-entity>
      </a-entity>

      <!-- Left Controller -->
      <a-entity id="leftHand" hand-controls="hand: left"
        teleport-controls="cameraRig: #rig; teleportOrigin: #head; button: trigger; curveShootingSpeed: 18; landingMaxAngle: 60"
        visible="true"></a-entity>

      <!-- Right Controller -->
      <a-entity id="rightHand" hand-controls="hand: right" laser-controls
        raycaster="showLine: true; far: 10; interval: 0; objects: .clickable, a-link;"
        line="color: #7cfc00; opacity: 0.5" visible="true"></a-entity>
    </a-entity>

  </a-scene>
</body>

</html>