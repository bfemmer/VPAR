<html>

<head>
  <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
  <script src="https://unpkg.com/aframe-environment-component/dist/aframe-environment-component.min.js"></script>
  <script
    src="https://rawgit.com/fernandojsg/aframe-teleport-controls/master/dist/aframe-teleport-controls.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
</head>

<body>
  <a-scene renderer="colorManagement: true; physicallyCorrectLights: true;">
    <a-assets>
        <a-asset-item id="strange" src="assets/strange/scene.gltf"></a-asset-item>
        <img id="cuesThumbnail" src="assets/cues.png">
        <img id="gameThumbnail" src="assets/game.png">
        <img id="effectsThumbnail" src="assets/effects.png">
        <img id="resilienceThumbnail" src="assets/resilience.png">
    </a-assets>

    <!-- Main environment (forest) -->
    <a-entity id="environment" environment="preset: arches; dressingAmount: 20"></a-entity>
      
    <a-entity text="width: 6; wrapCount:80; value: Welcome to Virgin Pulse Transform Lesson 14: Calm Your Mind. This lesson will educate you on the signs of stress, the negative effects associated with chronic activation (espcially with regards to body weight), and ways to reduce stress and become more resilient. By the end of this lesson, you will have the tools necessary to calm your mind, reduce stress (in order to get to a better and healthier you) and, most importanly, gain experience in virtual combat against stress triggers and stress effects.\n\nClick on one of Dr. Strange's teleportation portals below to begin your journey." position="0 3 -3" scale="1 1 1" rotation="0 0 0"></a-entity>
      
    <!-- Links -->
    <a-link href="cues.html" title="Learn the Signs\nof Stress" image="#cuesThumbnail" position="-2.5 1 -3" scale="0.65 0.65 0.65"></a-link>
    <a-link href="effects.html" title="Recognize the\nEffects of Stress" image="#effectsThumbnail" position="-0.8 1 -3" scale="0.65 0.65 0.65"></a-link>
    <a-link href="cope.html" title="Build Resilience\nAgainst Stressors" image="#resilienceThumbnail" position="0.8 1 -3" scale="0.65 0.65 0.65"></a-link>
    <a-link href="game.html" title="Resilience Warriors,\nAssemble!" image="#gameThumbnail" position="2.5 1 -3" scale="0.65 0.65 0.65"></a-link>
      
    <a-entity gltf-model="#strange" position="-4 0 -2.5" scale="2.4 3.1 3" rotation="0 40 0"></a-entity>

    <!-- Rigged camera with cursor-->
    <a-entity id="rig" position="0 0 0" movement-controls>
      <a-entity id="head" camera look-controls position="0 1.6 0">
        <a-entity
          animation__click="property: scale; startEvents: click; easing: easeInCubic; dur: 150; from: 0.1 0.1 0.1; to: 1 1 1"
          animation__fusing="property: scale; startEvents: fusing; easing: easeInCubic; dur: 1500; from: 1 1 1; to: 0.1 0.1 0.1"
          animation__mouseleave="property: scale; startEvents: mouseleave; easing: easeInCubic; dur: 500; to: 1 1 1"
          cursor="fuse: false;" material="color: black; shader: flat" position="0 0 -3"
          geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03">
        </a-entity>
      </a-entity>

      <!-- Left Controller -->
      <a-entity id="leftHand" hand-controls="hand: left"
        teleport-controls="cameraRig: #rig; teleportOrigin: #head; button: trigger; curveShootingSpeed: 18; landingMaxAngle: 60"
        visible="true"></a-entity>

      <!-- Right Controller -->
      <a-entity id="rightHand" hand-controls="hand: right" laser-controls
        raycaster="showLine: true; far: 10; interval: 0; objects: .clickable, a-link;"
        line="color: #7cfc00; opacity: 0.5" visible="true"></a-entity>
    </a-entity>

  </a-scene>
</body>

</html>